<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>민감사건 체크리스트</title>
  <style>
    body { font-family: sans-serif; padding: 1rem; background-color: #f7f7f7; }
    .section { margin-bottom: 2rem; background: white; padding: 1rem; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    button { display: block; margin: 0.5rem 0; padding: 0.5rem 1rem; cursor: pointer; }
    .sub-content { margin-left: 1rem; margin-top: 0.5rem; background: #eef; padding: 0.5rem; border-radius: 4px; }
    .detail-list { margin-left: 1rem; list-style: disc; padding-left: 1rem; }
    .sub-detail-list { margin-left: 1rem; list-style: none; padding-left: 1rem; }
    .highlight { color: blue; font-weight: bold; }
  </style>
</head>
<body>

<div class="section">
  <h2>1. 해당 항목 선택</h2>
  <label><input type="radio" name="사건" value="아동학대"> 아동학대</label>
  <label><input type="radio" name="사건" value="가정폭력"> 가정폭력</label>
  <label><input type="radio" name="사건" value="스토킹"> 스토킹</label>
  <label><input type="radio" name="사건" value="교제폭력"> 교제폭력</label>
</div>

<div class="section hidden" id="세부항목섹션">
  <h2>2. 절차는~</h2>
  <div id="세부항목버튼영역"></div>
</div>

<div class="section" id="필수서류섹션">
  <h2>3. 지구대 사건 접수시 챙기자..</h2>
  <div id="필수서류버튼영역">
    <button data-항목="필수서류">필수서류</button>
    <button data-항목="유의사항">유의사항</button>
  </div>
</div>

<script>
function 색상변환(text) {
  return text
    .replace(/\|\|\|(.+?)\|\|\|/g, '<span style="color: green; font-weight: bold;">$1</span>')
    .replace(/\|\|(.+?)\|\|/g, '<span style="color: blue; font-weight: bold;">$1</span>')
    .replace(/\|(.+?)\|/g, '<span style="color: red; font-weight: bold;">$1</span>');
}

const 세부항목데이터 = {
  "아동학대": ["현장출동", "응급조치(||경찰||)", "긴급임시조치(||경찰||)", "임시조치 신청(||경찰||)", "임시조치 청구(||검사||)", "임시조치 결정(||법원||)"],
  "가정폭력": ["현장출동", "응급조치(||경찰||)", "긴급임시조치(||경찰||)", "임시조치 신청(||경찰||)", "임시조치 청구(||검사||)", "임시조치 결정(||법원||)"],
  "스토킹": ["현장출동", "응급조치(||경찰||)", "긴급응급조치(||경찰||)","잠정조치 신청(||경찰||)", "잠정조치 청구(||검사||)","잠정조치 결정(||법원||)"],
  "교제폭력": ["현장출동"]
};

const 세부내용 = {
  "아동학대": {
    "현장출동": [
      "분리 및 조사",
      {
        text: "유의 사항",
        sub: ["|18세 미만| '||아동||' 여부(|||고3 학생 일부 해당 안됨|||)", "'아동학대'란 ||보호자|| |||및||| ||성인||에 의한 학대"]
      },
      "||통합판단조사표 작성|| |||및||| ||아동학대조사표 작성||"
    ],
    "응급조치(경찰)": [
      {
        text: "보호자에 의한 아동학대 여부 검토",
        sub: ["|보호자 아닌 ||기타 성인||에 의한 학대인 경우| ||응급조치 및 긴급임시조치|| 등 |해당사항 없음|"]
      },
      {
        text: "아동학대범죄 ||현장||을 발견한 경우 또는 |||학대현장 이외의 장소|||에서 학대피해가 확인되고 재학대의 위험이 급박ㆍ현저한 경우",
        sub: [
          "아동학대범죄 행위의 제지",
          "아동학대행위자를 피해아동으로부터 격리",
          "피해아동을 아동학대 관련 보호시설로 인도",
          "긴급치료가 필요한 피해아동을 의료기관으로 인도"
        ]
      },
      "응급조치결과 보고서 작성"
    ],
    "긴급임시조치(경찰)": [
      {
        text: "경찰직권(응급조치에도 불구 아동학대범죄 재발 우려가 있고 긴급을 요할때) or 피해아동 등의 신청에 따라 실시",
        sub: [
          "피해아동 또는 가정구성원의 주거로부터 퇴거 등 격리",
          "피해아동 또는 가정구성원의 주거, 학교 또는 보호시설 등에서 100미터 이내의 접근 금지",
          "피해아동을 아동학대 관련 보호시설로 인도",
          "피해아동 또는 가정구성원에 대한 전기통신을 이용한 접근 금지"
        ]
      },
      "긴급임시조치결정서 작성(|사법경찰관|)",
      {
        text: "긴급임시조치 |위반시|",
        sub: [
          "500만원 이하 ||과태료||",
          "아동학대범죄의 처벌 등에 관한 특례법 제63조 제1항 제3호",
          "||위반사실 |?|  통보||(|||긴급임시조치위반자 통보서|||)"
        ]
      }
    ],
    "임시조치 신청(경찰)": ["응급조치 제2호~제4호 실시 or 긴급임시조치 실시 한 경우 검사에게 임시조치의 청구를 신청함"],
    "임시조치 청구(검사)": ["사법경찰관의 임시조치 청구의 신청 or 검사 직권"],
    "임시조치 결정(법원)": [
      {
        text: "판사 결정으로 다음 조치",
        sub: ["퇴거 등 격리", "접근 금지", "통신 금지", "친권 또는 후견인 권한 행사의 제한 또는 정지", 
               "아동보호전문기관 등에의 상담 및 교육 위탁", " 의료기관이나 그 밖의 요양시설에의 위탁",
               "경찰관서의 유치장 또는 구치소에의 유치"]
      },
      {
        text: "임시조치 |위반시|",
        sub: ["2년 이하의 ||징역|| |||또는||| 2천만원 이하의 ||벌금||", "아동학대범죄의 처벌 등에 관한 특례법 제59조 제1항 제1호"]
      }
    ],

    "필수서류": [
      "||통합판단조사표|| |||및||| ||아동학대조사표||",
      "||응급조치 보고서||",
      "||긴급임시조치결정서(실시한 경우)||",
      "||체포서 or 임의동행보고서 or 발생보고서||",
    ],

    "유의사항": [
      {
        text: "?",
        sub: ["?", "?", "?"]
      },
      "?"
    ]
  },

  "가정폭력": {
    "현장출동": [
      "가해자와 피해자 분리",
      "진술 및 증거 확보",
      {
        text: "|가족 구성원 여부| 확인",
        sub: [
          "배우자(사실상 혼인관계에 있는 사람을 포함한다. 이하 같다) 또는 배우자였던 사람",
          "자기 또는 배우자와 직계존비속관계(사실상의 양친자관계를 포함한다. 이하 같다)에 있거나 있었던 사람",
          "계부모와 자녀의 관계 또는 적모(적모)와 서자(서자)의 관계에 있거나 있었던 사람",
          "|동거|하는 ||친족||"
        ]
      },
      "||긴급임시 긴급응급조치 통합판단조사표 작성(||PDA|| or ||서면||)|| 및 ||가정폭력 피해자 권리 및 지원 안내서(||PDA|| or ||서면||-피해자 제공)/상담 지원기관 연계를 위한 개인정보 수집 이용 및 제3자 제공동의서(여청문발)||",
      "(법률혼 관계아닌 경우)사실혼 판단 체크리스트(서면)",
    ],
    "응급조치(경찰)": [
      {
        text: "응급조치 실시",
        sub: [
          "폭력행위의 제지, 가정폭력행위자ㆍ피해자의 분리 및 범죄수사",
          "현행범인 체포 등 수사",
          "피해자를 가정폭력 관련 상담소 또는 보호시설로 인도(피해자가 동의한 경우만 해당한다)",
          "긴급치료가 필요한 피해자를 의료기관으로 인도",
          "폭력행위 재발 시 제8조에 따라 임시조치를 신청할 수 있음을 통보",
          "피해자보호명령 또는 신변안전조치를 청구할 수 있음을 고지"
        ]
      },
      "||응급조치 보고서 작성||(|||kics|||)"
    ],
    "긴급임시조치(경찰)": [
      {
        text: "직권 또는 피해자/대리인 신청",
        sub: [
          "피해자 또는 가정구성원의 주거 또는 점유하는 방실(방실)로부터의 퇴거 등 격리",
          "피해자 또는 가정구성원이나 그 주거, 직장 등에서 100미터 이내의 접근 금지",
          "피해자 또는 가정구성원에 대한 「전기통신기본법」 제2조제1호의 전기통신을 이용한 접근 금지"
        ]
      },
      {
        text: "||긴급임시조치결정서 작성||(|사법경찰관|)(|||kics|||)",
        sub: ["긴급임시조치 ||통보서||(|||가정폭력행위자 에게 교부|||)", "긴급임시조치 ||확인서||(|||가정폭력행위자 확인 서명, 수사서류에 첨부|||)",
             "참고: 긴급임시조치 확인서 및 통보서는 한 묶음으로 되어 있음/확인서 날인거부 가능/아랫부분 통보서 가해자에게 교부"]
      },
      {
        text: "긴급임시조치 |위반시|",
        sub: [
          "300만원 이하 ||과태료||",
          "가정폭력범죄의 처벌 등에 관한 특례법 제66조 제2호",
          "||위반사실 관할법원에 통보||(|||긴급임시조치위반자 통보서|||)"
        ]
      }
    ],
    "임시조치 신청(경찰)": [
      "사법경찰관이 긴급임시조치를 한 때에는 지체 없이 검사에게 임시조치를 신청"
    ],
    "임시조치 청구(검사)": ["법원에 임시조치 청구"],
    "임시조치 결정(법원)": [
      {
        text: "결정 내용",
        sub: [
          "퇴거 등 격리",
          "100m 접근 금지",
          "전기통신 접근 금지",
          "의료기관 위탁",
          "유치장 또는 구치소 유치"
        ]
      },
      {
        text: "|위반시|",
        sub: [
          "1년 이하 ||징역|| |||또는||| 1천만원 이하 ||벌금||",
          "가정폭력범죄의 처벌 등에 관한 특례법 제63조 제2항"
        ]
      }
    ],
    "필수서류": [
      "||통합판단조사표||(|||PDA OR 서면|||) 및 ||가정폭력 피해자 권리 및 지원 안내서(PDA or 서면)||",
      "상담 지원기관 연계를 위한 개인정보 수집 이용 및 제3자 제공동의서",
      "||응급조치 보고서||(|||kics|||)",
      "||긴급임시조치 결정서(실시한 경우)||(|||Kics|||)",
      "||체포서 or 동행보고서 or 발생보고서||(|||Kics|||)"
    ],
    "유의사항": [
      {
        text: "?",
        sub: ["?", "?", "?"]
      },
      "?"
    ]
  },

  "스토킹": {
    "현장출동": [
      "가해자 경고 및 분리",
      "스토킹 여부 판단",
      "증거 확보",
      "||통합판단조사표 작성|| 및 ||피해자권리고지 안내서(배부 or 전송)||"
    ],

    "응급조치(경찰)": [
      {
        text: "진행 중인 스토킹행위에 대하여 다음 각 호의 조치를 하여야 한다",
        sub: [
          "스토킹행위의 제지, 향후 스토킹행위의 중단 통보 및 스토킹행위를 지속적 또는 반복적으로 할 경우 |서면경고(경고장)|",
          "스토킹행위자와 피해자등의 분리 및 범죄수사",
          "피해자등에 대한 긴급응급조치 및 잠정조치 요청의 절차 등 안내",
          "스토킹 피해 관련 상담소 또는 보호시설로의 피해자등 인도(||피해자등이 동의한 경우||만 해당한다)"
        ]
      },
       "응급조치 보고서 작성"
    ], 
    
    "긴급응급조치(경찰)": [
      {
        text: "스토킹행위가 |||지속적 또는 반복적으로 행하여질 우려|||가 있고 스토킹범죄의 예방을 위하여 |||긴급|||을 요하는 경우 스토킹행위자에게 |직권|으로 또는 |||스토킹행위의 상대방|||이나 그 법정대리인 또는 |||스토킹행위를 신고한 사람|||의 |요청|에 의하여",
        sub: [
          "스토킹행위의상대방등이나 그 주거등으로부터 100미터 이내의 접근 금지",
          "스토킹행위의상대방등에 대한 「전기통신기본법」 제2조제1호의 전기통신을 이용한 접근 금지",
        ]
      },
      {
        text: "||긴급응급조치결정서 작성||(|사법경찰관|)",
        sub: [
          "||긴급응급조치의 내용 및 불복 방법 등 고지||(|긴급응급조치 대상자|에게 긴급응급조치 |고지서| ||배부||(|확인서| 수사서류 ||첨부||)",
          "||긴급응급조치 통지||(|스토킹행위의 상대방등|에게 ||결정서 사본 교부||, 행위자의 주민등록번호등 |||민감한 개인정보는비식별처리|||)",
          "참고 1):  |||행위자에게 고지서를 직접 교부하지 못한 경우|||에는 확인서 및 고지서(1page)를 첨부(상대방이 현장에 없을 경우 휴대폰 메세지, 등기 등을 이용하고 수사기록 유지",
          "참고 2): 가정폭력 및 아동복지법의 경우 긴급임시조치를 한 경우에 피해자에게 긴급임시조치결정서 사본을 교부하지 않는 것에서 차이있음"
        ]
      },
      {
        text: "긴급응급조치 |위반시|",
        sub: ["1년 이하의 ||징역|| |||또는||| 1천만원 이하의 ||벌금||, 스토킹범죄의 처벌 등에 관한 법률 제20조 제3항"]
      }
    ], 

     "잠정조치 신청(경찰)": [
      "사법경찰관이 긴급응급조치를 한 경우 잠정조치 신청"],

     "잠정조치 청구(검사)": [
      " 검사 직권 또는 사법경찰관의 신청에 따라"],

     "잠정조치 결정(법원)": [
      {
        text: "피해자 보호를 위하여 필요하다고 인정하는 경우에는 결정으로",
        sub: [
          "피해자에 대한 스토킹범죄 중단에 관한 서면 경고",
          "피해자 또는 그의 동거인, 가족이나 그 주거등으로부터 100미터 이내의 접근 금지",
          "피해자 또는 그의 동거인, 가족에 대한 「전기통신기본법」 제2조제1호의 전기통신을 이용한 접근 금지",
          "전자장치의 부착",
          "국가경찰관서의 유치장 또는 구치소에의 유치",
        ]
      },
      {
        text: "잠정조치 |위반시|",
        sub: ["3년 이하의 ||징역|| |||또는||| 3천만원 이하의 ||벌금||, 스토킹범죄의 처벌 등에 관한 법률 제20조 제1항 제1호(전자장치 효용을 해치는 행위를 한 사람)",
               "2년 이하의 ||징역|| |||또는||| 2천만원 이하의 ||벌금||, 스토킹범죄의 처벌 등에 관한 법률 제20조 제2항(주거 등 접근 금지 및 통신 이용 접근 금지 위반)"]
      }
    ], 

    "필수서류": [
      "||통합판단조사표|| |||및||| ||피해자권리고지 안내서||",
      "||경고장||",
      "||응급조치 보고서||",
      "||긴급응급조치결정서||",
      "||체포서 or 임의동행보고서or 발생보고서||",
    ],
    "유의사항": [
      {
        text: "?",
        sub: ["?", "?", "?"]
      },
      "?"
    ]
  },

  "교제폭력": {
    "현장출동": [
      "가해자 경고 및 분리",
      "||경고장|| |||및||| ||피해자권리고지안내서|| 배부"
    ],
    "필수서류": [
      "||경고장||",
      "||피해자권리고지안내서||",
    ],
    "유의사항": [
      {
        text: "?",
        sub: ["?", "?", "?"]
      },
      "?"
    ]
  }
};

function clearSubContents() {
  document.querySelectorAll('.sub-content').forEach(el => el.remove());
}

function createSubContent(사건, 항목) {
  clearSubContents();
  const 내용Div = document.createElement('div');
  내용Div.className = 'sub-content';
  const ul = document.createElement('ul');
  ul.className = 'detail-list';
  const 항목내용 = 세부내용[사건]?.[항목] || [];
  항목내용.forEach(세부 => {
    const li = document.createElement('li');
    if (typeof 세부 === 'object' && 세부.text) {
      li.innerHTML = 색상변환(세부.text);
      const subUl = document.createElement('ul');
      subUl.className = 'sub-detail-list';
      세부.sub.forEach(sub => {
        const subLi = document.createElement('li');
        if (typeof sub === 'object' && sub.text) {
          subLi.innerHTML = 색상변환(sub.text);
          const nestedUl = document.createElement('ul');
          nestedUl.style.listStyle = 'circle'; // 서브의 서브는 ● 표시
          sub.sub.forEach(nested => {
            const nestedLi = document.createElement('li');
            nestedLi.innerHTML = 색상변환(nested);
            nestedUl.appendChild(nestedLi);
          });
          subLi.appendChild(nestedUl);
        } else {
          subLi.innerHTML = 색상변환(sub);
        }
        subUl.appendChild(subLi);
      });
      li.appendChild(subUl);
    } else {
      li.innerHTML = 세부.includes("작성") ? `<span class="highlight">${색상변환(세부)}</span>` : 색상변환(세부);
    }
    ul.appendChild(li);
  });
  내용Div.appendChild(ul);
  return 내용Div;
}

let currentEvent = null;

document.querySelectorAll('input[name="사건"]').forEach(radio => {
  radio.addEventListener('change', () => {
    const 사건 = radio.value;
    currentEvent = 사건;
    const 세부버튼영역 = document.getElementById('세부항목버튼영역');
    세부버튼영역.innerHTML = '';
    세부항목데이터[사건].forEach(항목 => {
      const btn = document.createElement('button');
      btn.innerHTML = 색상변환(항목);
      btn.addEventListener('click', () => {
        const 버튼텍스트 = 항목.replace(/\|/g, '');
        const 내용 = createSubContent(사건, 버튼텍스트);
        btn.insertAdjacentElement('afterend', 내용);
      });
      세부버튼영역.appendChild(btn);
    });
    document.getElementById('세부항목섹션').classList.remove('hidden');
  });
});

document.querySelectorAll('#필수서류버튼영역 button').forEach(btn => {
  btn.addEventListener('click', () => {
    const 항목 = btn.dataset.항목;
    if (!currentEvent) {
      alert("먼저 사건을 선택해주세요.");
      return;
    }
    const 내용 = createSubContent(currentEvent, 항목);
    btn.insertAdjacentElement('afterend', 내용);
  });
});
</script>

</body>
</html>





